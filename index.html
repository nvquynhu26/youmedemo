<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Analysis: The Starry Night</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* --- General Styling --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            font-size: 2.2em;
            text-align: center;
            color: #0c1a2d;
            margin-bottom: 10px;
        }
        h2 {
            font-size: 1.8em;
            color: #0a2e6c; /* Deep Blue */
            border-bottom: 2px solid #f9d700; /* Yellow accent */
            padding-bottom: 5px;
            margin-top: 0;
        }
        h3 {
            font-size: 1.3em;
            color: #333;
            font-weight: 600;
        }

        /* --- 1. Header & Search Bar --- */
        header {
            background-color: #0c1a2d; /* Dark blue from the painting */
            padding: 20px;
            color: #fff;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .search-bar {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap; 
        }
        .search-bar .search-group {
            display: flex;
            flex-direction: column;
            margin: 5px 10px;
        }
        .search-bar label {
            font-size: 0.9em;
            margin-bottom: 5px;
            color: #f9d700; /* Yellow from the painting */
        }
        .search-bar input,
        .search-bar select {
            padding: 8px;
            border: none;
            border-radius: 4px;
            font-size: 1em;
        }

        /* --- 2. Painting Gallery (MỚI) --- */
        .painting-gallery {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .painting-gallery img {
            max-width: 85%; /* Thu nhỏ ảnh để chừa chỗ cho nút */
            height: auto;
            border: 8px solid #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .gallery-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.3);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .gallery-arrow:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        .gallery-arrow.prev {
            left: 15px;
        }
        .gallery-arrow.next {
            right: 15px;
        }

        /* --- 3. Painting Info (TÁCH RIÊNG) --- */
        .painting-info {
            text-align: center;
            font-size: 1.1em;
            font-style: italic;
            color: #555;
            margin: 20px 0;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .painting-info p {
            margin: 0;
        }

        /* --- 4. Data Analysis Grid (LƯỚI 3 CỘT MỚI) --- */
        .data-grid {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px; 
            flex-wrap: wrap; 
        }
        .data-column {
            flex-basis: 32%; 
            min-width: 300px; 
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            /* Thêm chiều cao cố định để 3 cột bằng nhau */
            height: 450px; 
            box-sizing: border-box; /* Quan trọng để padding không làm hỏng layout */
        }
        
        /* Cột 1: Biểu đồ Donut */
        .chart-container {
            position: relative;
            height: 350px; /* Tăng chiều cao cho biểu đồ */
        }

        /* Cột 2: Bảng màu */
        .palette-container {
            text-align: center;
        }
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); 
            gap: 15px;
            margin-top: 20px;
        }
        .color-swatch {
            text-align: center;
        }
        .swatch-box {
            width: 100%;
            height: 80px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .color-swatch code {
            font-size: 0.9em;
            color: #333;
            background-color: #eee;
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* Cột 3: Đồng hồ đo cảm xúc (MỚI) */
        .emotion-gauge-container {
            position: relative; /* Để định vị text bên trong */
            text-align: center;
        }
        .gauge-chart-wrapper {
            position: relative;
            height: 300px;
        }
        .gauge-score {
            position: absolute;
            top: 75%; /* Điều chỉnh để nằm ở giữa phần rỗng của đồng hồ */
            left: 50%;
            transform: translateX(-50%);
            font-size: 3em;
            font-weight: bold;
            color: #d9534f; /* Màu đỏ cho tâm trạng thấp */
        }
        .gauge-label {
            font-size: 1.1em;
            color: #555;
            margin-top: -30px; /* Kéo text lên gần đồng hồ hơn */
        }


        /* --- 5. In-depth Analysis (GIỮ NGUYÊN) --- */
        .in-depth-analysis {
            margin-top: 30px;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .analysis-section {
            margin-bottom: 25px;
        }
        .color-meaning ul {
            list-style: none;
            padding-left: 0;
        }
        .color-meaning li {
            margin-bottom: 15px;
        }
        .color-meaning strong {
            display: block; 
            font-size: 1.1em;
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .data-grid {
                flex-direction: column; /* Xếp chồng các cột lên nhau */
            }
            .data-column {
                flex-basis: 100%; /* Mỗi cột chiếm 100% */
                height: auto; /* Bỏ chiều cao cố định */
            }
        }
        @media (max-width: 768px) {
            .search-bar {
                flex-direction: column;
                align-items: stretch;
            }
            .search-bar .search-group {
                width: 100%;
                margin: 5px 0;
            }
            .painting-gallery img {
                max-width: 75%; /* Thu nhỏ ảnh hơn nữa trên di động */
            }
            .gallery-arrow {
                width: 40px;
                height: 40px;
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <div class="container">

        <header>
            <nav class="search-bar">
                <div class="search-group">
                    <label for="search-name">Search by Name</label>
                    <input type="text" id="search-name" placeholder="e.g., The Starry Night">
                </div>
                <div class="search-group">
                    <label for="search-color">Search by Color</label>
                    <select id="search-color">
                        <option value="">--Select a color--</option>
                        <option value="blue">Blue</option>
                        <option value="yellow">Yellow</option>
                        <option value="black">Black</option>
                    </select>
                </div>
                <div class="search-group">
                    <label for="search-period">Search by Period</label>
                    <select id="search-period">
                        <option value="">--Select a period--</option>
                        <option value="netherlands">Netherlands</option>
                        <option value="paris">Paris</option>
                        <option value="south_france">South of France</option>
                    </select>
                </div>
            </nav>
        </header>

        <main>
            <section class="painting-gallery">
                <button class="gallery-arrow prev" aria-label="Previous painting" onclick="alert('Chức năng chuyển tranh trước (chưa cài đặt)');">‹</button>
                
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/1280px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg" 
                     alt="The Starry Night by Vincent van Gogh">

                <button class="gallery-arrow next" aria-label="Next painting" onclick="alert('Chức năng chuyển tranh sau (chưa cài đặt)');">›</button>
            </section>

            <section class="painting-info">
                <h1>The Starry Night</h1>
                <p>
                    Vincent van Gogh, 1889 (South of France) <br>
                    73.7 cm × 92.1 cm | Oil on canvas <br>
                    Currently at: Museum of Modern Art (MoMA), New York City, USA
                </p>
            </section>

            <section class="data-grid">

                <div class="data-column chart-wrapper">
                    <h2>Color Distribution</h2>
                    <div class="chart-container">
                        <canvas id="colorDonutChart"></canvas>
                    </div>
                </div>

                <div class="data-column palette-container">
                    <h2>Primary Palette</h2>
                    <div class="palette-grid">
                        <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #0a2e6c;"></div>
                            <code>#0a2e6c</code>
                        </div>
                        <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #0c1a2d;"></div>
                            <code>#0c1a2d</code>
                        </div>
                        <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #f9d700;"></div>
                            <code>#f9d700</code>
                        </div>
                        <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #ffffff; border: 1px solid #eee;"></div>
                            <code>#ffffff</code>
                        </div>
                        <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #b05f2a;"></div>
                            <code>#b05f2a</code>
                        </div>
                         <div class="color-swatch">
                            <div class="swatch-box" style="background-color: #2a7b3b;"></div>
                            <code>#2a7b3b</code>
                        </div>
                    </div>
                </div>

                <div class="data-column emotion-gauge-container">
                    <h2>Mood at Painting</h2>
                    <div class="gauge-chart-wrapper">
                        <canvas id="emotionGaugeChart"></canvas>
                        <div class="gauge-score">2/10</div>
                    </div>
                    <div class="gauge-label">
                        <p>Tâm trạng: <strong>Rất thấp (Hỗn loạn & Tuyệt vọng)</strong></p>
                        <p>Vẽ tại trại tị nạn Saint-Paul-de-Mausole sau một cơn khủng hoảng tinh thần.</p>
                    </div>
                </div>
            </section>

            <section class="in-depth-analysis">
                <article class="analysis-section">
                    <h2>Painting Technique</h2>
                    <h3>Swirling Brushwork</h3>
                    <p>This is the defining technique of his Saint-Rémy period. The entire sky, the hills, and even the cypress tree are painted with powerful, swirling, coiling brushstrokes, creating an "energy field" in motion.</p>
                    
                    <h3>Impasto</h3>
                    <p>This technique is pushed to the extreme. Paint is applied thickly, perhaps straight from the tube, especially on the stars, moon, and swirls, giving them a 3D texture that "catches" real light.</p>
                    
                    <h3>Arbitrary/Expressive Color</h3>
                    <p>He didn't paint what he saw, but what he felt. The sky isn't factually Ultramarine, nor do stars "burn" Cadmium Yellow. This is the color of emotion.</p>
                    
                    <h3>Strong Outlines</h3>
                    <p>The cypress and village houses are outlined in Dark Blue/Black, a legacy of Japonisme, but now used to create drama and separate the forms.</p>
                </article>
                
                <article class="analysis-section">
                    <h2>Meaning of the Painting</h2>
                    <h3>View from the Asylum</h3>
                    <p>The painting was based on the view from his asylum room window at Saint-Paul-de-Mausole, looking east before sunrise, though painted from memory.</p>
                    
                    <h3>The "Dialogue" of Three Elements</h3>
                    <p>The painting is a psychological drama between three parts:</p>
                    <ul>
                        <li><strong>The Sky (The Cosmos/Supernatural):</strong> The largest, most chaotic part. It's a cosmic dance, a "vortex" of emotion and spiritual energy. The stars (especially Venus, the brightest) and the moon (an unrealistic combination of crescent and sun) are "bursts" of hope or divine power.</li>
                        <li><strong>The Village (The Serene/Human):</strong> Nestled in the valley. This part is from memory (the church spire is Dutch, from his homeland, not French). It represents peace, community, and human warmth (lit windows) from which Van Gogh was separated and yearned for.</li>
                        <li><strong>The Cypress Tree (The Inner Self/Death):</strong> In the foreground, rising like a black flame. Cypress trees in Provence were often associated with cemeteries and death. For Van Gogh, it symbolizes his own inner turmoil and suffering, a dark "bridge" of longing, reaching from Earth (life) to the Sky (eternity/death).</li>
                    </ul>
                </article>

                <article class="analysis-section">
                    <h2>Intention when Painting</h2>
                    <h3>Technical Intention (Swirling Brushwork)</h3>
                    <p>The intent was to paint "energy," not objects. He wanted to show the "hidden life," the "vibration" of the cosmos. The world is not static, but alive and roiling.</p>
                    
                    <h3>Color Intention (Arbitrary)</h3>
                    <p>The intent was "expression." He used Blue because he felt infinity and melancholy. He used Yellow because he felt hope and divine energy.</p>
                    
                    <h3>Contrast</h3>
                    <p>The key intention was dramatic contrast:</p>
                    <ul>
                        <li><strong>Sky (Chaotic, Supernatural) vs. Village (Calm, Human):</strong> The world of God/The Cosmos versus the world of sleeping humanity.</li>
                        <li><strong>Cypress (Dark,Struggling) vs. Sky (Bright, Eternal):</strong> His earthly suffering yearning for the divine light.</li>
                    </ul>
                </article>

                <article class="analysis-section">
                    <h2>Van Gogh's Psychology</h2>
                    <p>Van Gogh was in an intense and chaotic emotional state. He had just suffered a severe mental breakdown. He was isolated. This painting was not made *in* a fit of madness, but rather as an attempt to "channel" his turbulent emotions, fears, and spiritual yearning *into* art.</p>
                    <p>Despite the chaos, many see this as a painting of consolation. Van Gogh was searching for redemption, not in the church (which he painted small), but in the grand, overwhelming power of nature (the sky).</p>
                </article>
                
                <article class="analysis-section color-meaning">
                     <h2>Color Symbolism</h2>
                     <ul>
                        <li>
                            <strong>Blue (Ultramarine/Prussian)</strong>
                            Color of the sky, the cosmos, infinity, and spirituality. But it's also a "cold" color, symbolizing his melancholy and isolation in the asylum.
                        </li>
                        <li>
                            <strong>Yellow (Cadmium/Chrome)</strong>
                            Color of the stars and moon. It's the antidote to Blue. It is life, hope, divine energy, and inner "fire." The stars aren't just stars; they are "explosions" of hope.
                        </li>
                        <li>
                            <strong>Black / Darkest Blue</strong>
                            Color of the cypress tree and outlines. Symbolizes death, grief, and despair. It's the "darkness" of the earth reaching up to the sky.
                        </li>
                        <li>
                            <strong>White</strong>
                            Used (often mixed with Yellow) to create the brightest highlights. Symbolizes pure light, the core of energy, making the stars "burn."
                        </li>
                        <li>
                            <strong>Brown / Orange</strong>
                            Color of the village roofs. This is the color of the earth, of humanity. It symbolizes warmth, safety, and peace—a stark contrast to the cosmic drama above.
                        </li>
                    </ul>
                </article>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- Biểu đồ 1: Phân bổ màu sắc (Donut) ---
            const colorData = {
                labels: [
                    'Blue (~40%)',
                    'Black / Dark Blue (~20%)',
                    'Yellow (~15%)',
                    'White (~15%)',
                    'Brown / Orange (~10%)'
                ],
                datasets: [{
                    label: 'Color Distribution',
                    data: [40, 20, 15, 15, 10], // Tỷ lệ phần trăm
                    backgroundColor: [
                        '#0a2e6c', // Blue
                        '#0c1a2d', // Black / Dark Blue
                        '#f9d700', // Yellow
                        '#f0f0f0', // White (dùng màu xám nhạt để nhìn thấy trên nền trắng)
                        '#b05f2a'  // Brown / Orange
                    ],
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            };

            const ctxColor = document.getElementById('colorDonutChart');
            if (ctxColor) {
                const colorDonutChart = new Chart(ctxColor.getContext('2d'), {
                    type: 'doughnut', 
                    data: colorData,
                    options: {
                        responsive: true, 
                        maintainAspectRatio: false, 
                        plugins: {
                            legend: {
                                position: 'bottom', 
                                labels: {
                                    boxWidth: 20,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            // --- Biểu đồ 2: Đồng hồ đo cảm xúc (MỚI) ---
            // Dữ liệu: Điểm là 2/10
            const moodScore = 2;
            const maxScore = 10;

            const gaugeData = {
                labels: ['Mood', 'Remaining'],
                datasets: [{
                    data: [moodScore, maxScore - moodScore], // 2 phần điền, 8 phần còn lại
                    backgroundColor: [
                        '#d9534f', // Màu đỏ cho tâm trạng thấp
                        '#e0e0e0'  // Màu xám cho phần còn lại
                    ],
                    borderColor: '#fff',
                    borderWidth: 1
                }]
            };

            const ctxGauge = document.getElementById('emotionGaugeChart');
            if (ctxGauge) {
                const emotionGaugeChart = new Chart(ctxGauge.getContext('2d'), {
                    type: 'doughnut',
                    data: gaugeData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        // Cấu hình để biến nó thành đồng hồ đo 180 độ
                        rotation: -90,      // Bắt đầu từ 9 giờ
                        circumference: 180, // Chỉ vẽ nửa vòng tròn
                        cutout: '70%',      // Độ dày của đồng hồ
                        plugins: {
                            // Tắt hết chú giải và tooltip
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        }
                    }
                });
            }
        });
    </script>

</body>
</html>
